{"ast":null,"code":"import _objectSpread from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle, createVNode as _createVNode } from \"vue\";\n// Styles\nimport \"./VIcon.css\";\n\n// Composables\nimport { useTextColor } from \"../../composables/color.js\";\nimport { makeComponentProps } from \"../../composables/component.js\";\nimport { IconValue, useIcon } from \"../../composables/icons.js\";\nimport { makeSizeProps, useSize } from \"../../composables/size.js\";\nimport { makeTagProps } from \"../../composables/tag.js\";\nimport { makeThemeProps, useTheme } from \"../../composables/theme.js\"; // Utilities\nimport { shallowRef, Text } from 'vue';\nimport { convertToUnit, flattenFragments, genericComponent, propsFactory, useRender } from \"../../util/index.js\";\nexport var makeVIconProps = propsFactory(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n  color: String,\n  disabled: Boolean,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  opacity: [String, Number]\n}, makeComponentProps()), makeSizeProps()), makeTagProps({\n  tag: 'i'\n})), makeThemeProps()), 'VIcon');\nexport var VIcon = genericComponent()({\n  name: 'VIcon',\n  props: makeVIconProps(),\n  setup: function setup(props, _ref) {\n    var attrs = _ref.attrs,\n      slots = _ref.slots;\n    var slotIcon = shallowRef();\n    var _useTheme = useTheme(),\n      themeClasses = _useTheme.themeClasses;\n    var _useIcon = useIcon(function () {\n        return slotIcon.value || props.icon;\n      }),\n      iconData = _useIcon.iconData;\n    var _useSize = useSize(props),\n      sizeClasses = _useSize.sizeClasses;\n    var _useTextColor = useTextColor(function () {\n        return props.color;\n      }),\n      textColorClasses = _useTextColor.textColorClasses,\n      textColorStyles = _useTextColor.textColorStyles;\n    useRender(function () {\n      var _slots$default;\n      var slotValue = (_slots$default = slots[\"default\"]) === null || _slots$default === void 0 ? void 0 : _slots$default.call(slots);\n      if (slotValue) {\n        var _flattenFragments$fil;\n        slotIcon.value = (_flattenFragments$fil = flattenFragments(slotValue).filter(function (node) {\n          return node.type === Text && node.children && typeof node.children === 'string';\n        })[0]) === null || _flattenFragments$fil === void 0 ? void 0 : _flattenFragments$fil.children;\n      }\n      var hasClick = !!(attrs.onClick || attrs.onClickOnce);\n      return _createVNode(iconData.value.component, {\n        \"tag\": props.tag,\n        \"icon\": iconData.value.icon,\n        \"class\": _normalizeClass(['v-icon', 'notranslate', themeClasses.value, sizeClasses.value, textColorClasses.value, {\n          'v-icon--clickable': hasClick,\n          'v-icon--disabled': props.disabled,\n          'v-icon--start': props.start,\n          'v-icon--end': props.end\n        }, props[\"class\"]]),\n        \"style\": _normalizeStyle([{\n          '--v-icon-opacity': props.opacity\n        }, !sizeClasses.value ? {\n          fontSize: convertToUnit(props.size),\n          height: convertToUnit(props.size),\n          width: convertToUnit(props.size)\n        } : undefined, textColorStyles.value, props.style]),\n        \"role\": hasClick ? 'button' : undefined,\n        \"aria-hidden\": !hasClick,\n        \"tabindex\": hasClick ? props.disabled ? -1 : 0 : undefined\n      }, {\n        \"default\": function _default() {\n          return [slotValue];\n        }\n      });\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["useTextColor","makeComponentProps","IconValue","useIcon","makeSizeProps","useSize","makeTagProps","makeThemeProps","useTheme","shallowRef","Text","convertToUnit","flattenFragments","genericComponent","propsFactory","useRender","makeVIconProps","_objectSpread","color","String","disabled","Boolean","start","end","icon","opacity","Number","tag","VIcon","name","props","setup","_ref","attrs","slots","slotIcon","_useTheme","themeClasses","_useIcon","value","iconData","_useSize","sizeClasses","_useTextColor","textColorClasses","textColorStyles","_slots$default","slotValue","call","_flattenFragments$fil","filter","node","type","children","hasClick","onClick","onClickOnce","_createVNode","component","_normalizeClass","_normalizeStyle","fontSize","size","height","width","undefined","style","default"],"sources":["../../../src/components/VIcon/VIcon.tsx"],"sourcesContent":["// Styles\nimport './VIcon.sass'\n\n// Composables\nimport { useTextColor } from '@/composables/color'\nimport { makeComponentProps } from '@/composables/component'\nimport { IconValue, useIcon } from '@/composables/icons'\nimport { makeSizeProps, useSize } from '@/composables/size'\nimport { makeTagProps } from '@/composables/tag'\nimport { makeThemeProps, useTheme } from '@/composables/theme'\n\n// Utilities\nimport { shallowRef, Text } from 'vue'\nimport { convertToUnit, flattenFragments, genericComponent, propsFactory, useRender } from '@/util'\n\nexport const makeVIconProps = propsFactory({\n  color: String,\n  disabled: Boolean,\n  start: Boolean,\n  end: Boolean,\n  icon: IconValue,\n  opacity: [String, Number],\n\n  ...makeComponentProps(),\n  ...makeSizeProps(),\n  ...makeTagProps({ tag: 'i' }),\n  ...makeThemeProps(),\n}, 'VIcon')\n\nexport const VIcon = genericComponent()({\n  name: 'VIcon',\n\n  props: makeVIconProps(),\n\n  setup (props, { attrs, slots }) {\n    const slotIcon = shallowRef<string>()\n\n    const { themeClasses } = useTheme()\n    const { iconData } = useIcon(() => slotIcon.value || props.icon)\n    const { sizeClasses } = useSize(props)\n    const { textColorClasses, textColorStyles } = useTextColor(() => props.color)\n\n    useRender(() => {\n      const slotValue = slots.default?.()\n      if (slotValue) {\n        slotIcon.value = flattenFragments(slotValue).filter(node =>\n          node.type === Text && node.children && typeof node.children === 'string'\n        )[0]?.children as string\n      }\n      const hasClick = !!(attrs.onClick || attrs.onClickOnce)\n\n      return (\n        <iconData.value.component\n          tag={ props.tag }\n          icon={ iconData.value.icon }\n          class={[\n            'v-icon',\n            'notranslate',\n            themeClasses.value,\n            sizeClasses.value,\n            textColorClasses.value,\n            {\n              'v-icon--clickable': hasClick,\n              'v-icon--disabled': props.disabled,\n              'v-icon--start': props.start,\n              'v-icon--end': props.end,\n            },\n            props.class,\n          ]}\n          style={[\n            {\n              '--v-icon-opacity': props.opacity,\n            },\n            !sizeClasses.value ? ({\n              fontSize: convertToUnit(props.size),\n              height: convertToUnit(props.size),\n              width: convertToUnit(props.size),\n            }) : undefined,\n            textColorStyles.value,\n            props.style,\n          ]}\n          role={ hasClick ? 'button' : undefined }\n          aria-hidden={ !hasClick }\n          tabindex={ hasClick ? props.disabled ? -1 : 0 : undefined }\n        >\n          { slotValue }\n        </iconData.value.component>\n      )\n    })\n\n    return {}\n  },\n})\n\nexport type VIcon = InstanceType<typeof VIcon>\n"],"mappings":";;;;;;;AAAA;AACA;;AAEA;AAAA,SACSA,YAAY;AAAA,SACZC,kBAAkB;AAAA,SAClBC,SAAS,EAAEC,OAAO;AAAA,SAClBC,aAAa,EAAEC,OAAO;AAAA,SACtBC,YAAY;AAAA,SACZC,cAAc,EAAEC,QAAQ,sCAEjC;AACA,SAASC,UAAU,EAAEC,IAAI,QAAQ,KAAK;AAAA,SAC7BC,aAAa,EAAEC,gBAAgB,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,SAAS;AAEnF,OAAO,IAAMC,cAAc,GAAGF,YAAY,CAAAG,aAAA,CAAAA,aAAA,CAAAA,aAAA,CAAAA,aAAA;EACxCC,KAAK,EAAEC,MAAM;EACbC,QAAQ,EAAEC,OAAO;EACjBC,KAAK,EAAED,OAAO;EACdE,GAAG,EAAEF,OAAO;EACZG,IAAI,EAAEtB,SAAS;EACfuB,OAAO,EAAE,CAACN,MAAM,EAAEO,MAAM;AAAC,GAEtBzB,kBAAkB,CAAC,CAAC,GACpBG,aAAa,CAAC,CAAC,GACfE,YAAY,CAAC;EAAEqB,GAAG,EAAE;AAAI,CAAC,CAAC,GAC1BpB,cAAc,CAAC,IACjB,OAAO,CAAC;AAEX,OAAO,IAAMqB,KAAK,GAAGf,gBAAgB,CAAC,CAAC,CAAC;EACtCgB,IAAI,EAAE,OAAO;EAEbC,KAAK,EAAEd,cAAc,CAAC,CAAC;EAEvBe,KAAK,WAALA,KAAKA,CAAED,KAAK,EAAAE,IAAA,EAAoB;IAAA,IAAhBC,KAAK,GAASD,IAAA,CAAdC,KAAK;MAAEC,KAAA,GAAOF,IAAA,CAAPE,KAAA;IACrB,IAAMC,QAAQ,GAAG1B,UAAU,CAAS,CAAC;IAErC,IAAA2B,SAAA,GAAyB5B,QAAQ,CAAC,CAAC;MAA3B6B,YAAA,GAAAD,SAAA,CAAAC,YAAA;IACR,IAAAC,QAAA,GAAqBnC,OAAO,CAAC;QAAA,OAAMgC,QAAQ,CAACI,KAAK,IAAIT,KAAK,CAACN,IAAI;MAAA,EAAC;MAAxDgB,QAAA,GAAAF,QAAA,CAAAE,QAAA;IACR,IAAAC,QAAA,GAAwBpC,OAAO,CAACyB,KAAK,CAAC;MAA9BY,WAAA,GAAAD,QAAA,CAAAC,WAAA;IACR,IAAAC,aAAA,GAA8C3C,YAAY,CAAC;QAAA,OAAM8B,KAAK,CAACZ,KAAK;MAAA,EAAC;MAArE0B,gBAAgB,GAAAD,aAAA,CAAhBC,gBAAgB;MAAEC,eAAA,GAAAF,aAAA,CAAAE,eAAA;IAE1B9B,SAAS,CAAC,YAAM;MAAA,IAAA+B,cAAA;MACd,IAAMC,SAAS,IAAAD,cAAA,GAAGZ,KAAK,WAAQ,cAAAY,cAAA,uBAAbA,cAAA,CAAAE,IAAA,CAAAd,KAAgB,CAAC;MACnC,IAAIa,SAAS,EAAE;QAAA,IAAAE,qBAAA;QACbd,QAAQ,CAACI,KAAK,IAAAU,qBAAA,GAAGrC,gBAAgB,CAACmC,SAAS,CAAC,CAACG,MAAM,CAAC,UAAAC,IAAI;UAAA,OACtDA,IAAI,CAACC,IAAI,KAAK1C,IAAI,IAAIyC,IAAI,CAACE,QAAQ,IAAI,OAAOF,IAAI,CAACE,QAAQ,KAAK,QAClE;QAAA,EAAC,CAAC,CAAC,CAAC,cAAAJ,qBAAA,uBAFaA,qBAAA,CAEXI,QAAkB;MAC1B;MACA,IAAMC,QAAQ,GAAG,CAAC,EAAErB,KAAK,CAACsB,OAAO,IAAItB,KAAK,CAACuB,WAAW,CAAC;MAEvD,OAAAC,YAAA,CAAAjB,QAAA,CAAAD,KAAA,CAAAmB,SAAA;QAAA,OAEU5B,KAAK,CAACH,GAAG;QAAA,QACRa,QAAQ,CAACD,KAAK,CAACf,IAAI;QAAA,SAAAmC,eAAA,CACnB,CACL,QAAQ,EACR,aAAa,EACbtB,YAAY,CAACE,KAAK,EAClBG,WAAW,CAACH,KAAK,EACjBK,gBAAgB,CAACL,KAAK,EACtB;UACE,mBAAmB,EAAEe,QAAQ;UAC7B,kBAAkB,EAAExB,KAAK,CAACV,QAAQ;UAClC,eAAe,EAAEU,KAAK,CAACR,KAAK;UAC5B,aAAa,EAAEQ,KAAK,CAACP;QACvB,CAAC,EACDO,KAAK,SAAM,CACZ;QAAA,SAAA8B,eAAA,CACM,CACL;UACE,kBAAkB,EAAE9B,KAAK,CAACL;QAC5B,CAAC,EACD,CAACiB,WAAW,CAACH,KAAK,GAAI;UACpBsB,QAAQ,EAAElD,aAAa,CAACmB,KAAK,CAACgC,IAAI,CAAC;UACnCC,MAAM,EAAEpD,aAAa,CAACmB,KAAK,CAACgC,IAAI,CAAC;UACjCE,KAAK,EAAErD,aAAa,CAACmB,KAAK,CAACgC,IAAI;QACjC,CAAC,GAAIG,SAAS,EACdpB,eAAe,CAACN,KAAK,EACrBT,KAAK,CAACoC,KAAK,CACZ;QAAA,QACMZ,QAAQ,GAAG,QAAQ,GAAGW,SAAS;QAAA,eACxB,CAACX,QAAQ;QAAA,YACZA,QAAQ,GAAGxB,KAAK,CAACV,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG6C;MAAS;QAAA,oBAAAE,SAAA;UAAA,QAEvDpB,SAAS;QAAA;MAAA;IAGjB,CAAC,CAAC;IAEF,OAAO,CAAC,CAAC;EACX;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}