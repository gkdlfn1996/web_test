{"ast":null,"code":"import _objectSpread from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { ref, watch } from 'vue';\nexport default {\n  __name: 'VersionTable',\n  props: {\n    versions: Array,\n    notes: Object,\n    // notesContent 객체 (초기값 및 외부 업데이트용)\n    isSaving: Boolean // isSaving prop 추가\n  },\n  emits: ['save-note'],\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose,\n      __emit = _ref.emit;\n    __expose();\n    var props = __props;\n    var emit = __emit;\n    var versionHeaders = [{\n      title: 'Version',\n      key: 'code',\n      sortable: false\n    }, {\n      title: 'Note',\n      key: 'note',\n      sortable: false\n    }];\n\n    // 로컬 노트 내용을 저장할 반응형 객체\n    var localNotesContent = ref({});\n\n    // props.notes가 변경될 때 localNotesContent를 초기화\n    watch(function () {\n      return props.notes;\n    }, function (newNotes) {\n      localNotesContent.value = _objectSpread({}, newNotes);\n    }, {\n      immediate: true,\n      deep: true\n    });\n    var handleBlur = function handleBlur(versionId, content) {\n      emit('save-note', versionId, content);\n    };\n    var __returned__ = {\n      props: props,\n      emit: emit,\n      versionHeaders: versionHeaders,\n      localNotesContent: localNotesContent,\n      handleBlur: handleBlur,\n      ref: ref,\n      watch: watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","emit","__emit","versionHeaders","title","key","sortable","localNotesContent","notes","newNotes","value","_objectSpread","immediate","deep","handleBlur","versionId","content"],"sources":["/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/src/components/VersionTable.vue"],"sourcesContent":["<!-- frontend/src/components/VersionTable.vue -->\n<template>\n  <div class=\"versions-section\" v-if=\"versions.length\">\n    <h2>Version</h2>\n    <v-data-table\n      :headers=\"versionHeaders\"\n      :items=\"versions\"\n      item-key=\"id\"\n      class=\"elevation-1\"\n      hide-default-footer\n      disable-pagination\n    >\n      <template v-slot:item.note=\"{ item }\">\n        <div class=\"note-section\">\n          <div class=\"my-note\">\n            <h3>My Draft Note ({{ item.code }})</h3>\n            <v-textarea\n              label=\"여기에 노트를 작성하세요\"\n              rows=\"3\"\n              v-model=\"localNotesContent[item.id]\"\n              @blur=\"emit('save-note', item.id, localNotesContent[item.id])\"\n              variant=\"outlined\"\n              :class=\"{ 'saving-note': isSaving }\"\n            ></v-textarea>\n          </div>\n          <div class=\"other-notes\">\n            <h3>Others Draft Notes</h3>\n            <p>다른 사람의 노트 내용이 여기에 실시간으로 표시됩니다.</p>\n          </div>\n        </div>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue';\n\nconst props = defineProps({\n  versions: Array,\n  notes: Object, // notesContent 객체 (초기값 및 외부 업데이트용)\n  isSaving: Boolean, // isSaving prop 추가\n});\n\nconst emit = defineEmits(['save-note']);\n\nconst versionHeaders = [\n  { title: 'Version', key: 'code', sortable: false },\n  { title: 'Note', key: 'note', sortable: false },\n];\n\n// 로컬 노트 내용을 저장할 반응형 객체\nconst localNotesContent = ref({});\n\n// props.notes가 변경될 때 localNotesContent를 초기화\nwatch(() => props.notes, (newNotes) => {\n  localNotesContent.value = { ...newNotes };\n}, { immediate: true, deep: true });\n\nconst handleBlur = (versionId, content) => {\n  emit('save-note', versionId, content);\n};\n</script>\n\n<style scoped>\n.saving-note {\n  transition: background-color 0.3s ease;\n  background-color: #e0f2f7; /* 저장 중일 때 연한 파란색 배경 */\n}\n/* 저장 완료 후 원래 색상으로 돌아오도록 CSS 트랜지션 추가 */\n/* 필요한 스타일이 있다면 여기에 추가 */\n</style>"],"mappings":";;AAoCA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;;;;;;;;;;;;;;IAEhC,IAAMC,KAAK,GAAGC,OAIZ;IAEF,IAAMC,IAAI,GAAGC,MAA0B;IAEvC,IAAMC,cAAc,GAAG,CACrB;MAAEC,KAAK,EAAE,SAAS;MAAEC,GAAG,EAAE,MAAM;MAAEC,QAAQ,EAAE;IAAM,CAAC,EAClD;MAAEF,KAAK,EAAE,MAAM;MAAEC,GAAG,EAAE,MAAM;MAAEC,QAAQ,EAAE;IAAM,CAAC,CAChD;;IAED;IACA,IAAMC,iBAAiB,GAAGV,GAAG,CAAC,CAAC,CAAC,CAAC;;IAEjC;IACAC,KAAK,CAAC;MAAA,OAAMC,KAAK,CAACS,KAAK;IAAA,GAAE,UAACC,QAAQ,EAAK;MACrCF,iBAAiB,CAACG,KAAK,GAAAC,aAAA,KAAQF,QAAQ,CAAE;IAC3C,CAAC,EAAE;MAAEG,SAAS,EAAE,IAAI;MAAEC,IAAI,EAAE;IAAK,CAAC,CAAC;IAEnC,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAIC,SAAS,EAAEC,OAAO,EAAK;MACzCf,IAAI,CAAC,WAAW,EAAEc,SAAS,EAAEC,OAAO,CAAC;IACvC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}