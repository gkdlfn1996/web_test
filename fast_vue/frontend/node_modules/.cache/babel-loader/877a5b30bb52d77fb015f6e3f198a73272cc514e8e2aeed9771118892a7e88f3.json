{"ast":null,"code":"import \"core-js/modules/web.timers.js\";\n// Utilities\nimport { onScopeDispose } from 'vue';\nvar HOLD_REPEAT = 50;\nvar HOLD_DELAY = 500;\nexport function useHold(_ref) {\n  var toggleUpDown = _ref.toggleUpDown;\n  var timeout = -1;\n  var interval = -1;\n  onScopeDispose(holdStop);\n  function holdStart(value) {\n    holdStop();\n    tick(value);\n    window.addEventListener('pointerup', holdStop);\n    document.addEventListener('blur', holdStop);\n    timeout = window.setTimeout(function () {\n      interval = window.setInterval(function () {\n        return tick(value);\n      }, HOLD_REPEAT);\n    }, HOLD_DELAY);\n  }\n  function holdStop() {\n    window.clearTimeout(timeout);\n    window.clearInterval(interval);\n    window.removeEventListener('pointerup', holdStop);\n    document.removeEventListener('blur', holdStop);\n  }\n  function tick(value) {\n    toggleUpDown(value === 'up');\n  }\n  return {\n    holdStart: holdStart,\n    holdStop: holdStop\n  };\n}","map":{"version":3,"names":["onScopeDispose","HOLD_REPEAT","HOLD_DELAY","useHold","_ref","toggleUpDown","timeout","interval","holdStop","holdStart","value","tick","window","addEventListener","document","setTimeout","setInterval","clearTimeout","clearInterval","removeEventListener"],"sources":["../../../src/components/VNumberInput/hold.ts"],"sourcesContent":["// Utilities\nimport { onScopeDispose } from 'vue'\n\nconst HOLD_REPEAT = 50\nconst HOLD_DELAY = 500\n\nexport function useHold ({ toggleUpDown }: { toggleUpDown: (increment: boolean) => void }) {\n  let timeout = -1\n  let interval = -1\n\n  onScopeDispose(holdStop)\n\n  function holdStart (value: 'up' | 'down') {\n    holdStop()\n    tick(value)\n    window.addEventListener('pointerup', holdStop)\n    document.addEventListener('blur', holdStop)\n    timeout = window.setTimeout(() => {\n      interval = window.setInterval(() => tick(value), HOLD_REPEAT)\n    }, HOLD_DELAY)\n  }\n\n  function holdStop () {\n    window.clearTimeout(timeout)\n    window.clearInterval(interval)\n    window.removeEventListener('pointerup', holdStop)\n    document.removeEventListener('blur', holdStop)\n  }\n\n  function tick (value: 'up' | 'down') {\n    toggleUpDown(value === 'up')\n  }\n\n  return { holdStart, holdStop }\n}\n"],"mappings":";AAAA;AACA,SAASA,cAAc,QAAQ,KAAK;AAEpC,IAAMC,WAAW,GAAG,EAAE;AACtB,IAAMC,UAAU,GAAG,GAAG;AAEtB,OAAO,SAASC,OAAOA,CAAAC,IAAA,EAAoE;EAAA,IAAhEC,YAAA,GAA8DD,IAAA,CAA9DC,YAAA;EACzB,IAAIC,OAAO,GAAG,CAAC,CAAC;EAChB,IAAIC,QAAQ,GAAG,CAAC,CAAC;EAEjBP,cAAc,CAACQ,QAAQ,CAAC;EAExB,SAASC,SAASA,CAAEC,KAAoB,EAAE;IACxCF,QAAQ,CAAC,CAAC;IACVG,IAAI,CAACD,KAAK,CAAC;IACXE,MAAM,CAACC,gBAAgB,CAAC,WAAW,EAAEL,QAAQ,CAAC;IAC9CM,QAAQ,CAACD,gBAAgB,CAAC,MAAM,EAAEL,QAAQ,CAAC;IAC3CF,OAAO,GAAGM,MAAM,CAACG,UAAU,CAAC,YAAM;MAChCR,QAAQ,GAAGK,MAAM,CAACI,WAAW,CAAC;QAAA,OAAML,IAAI,CAACD,KAAK,CAAC;MAAA,GAAET,WAAW,CAAC;IAC/D,CAAC,EAAEC,UAAU,CAAC;EAChB;EAEA,SAASM,QAAQA,CAAA,EAAI;IACnBI,MAAM,CAACK,YAAY,CAACX,OAAO,CAAC;IAC5BM,MAAM,CAACM,aAAa,CAACX,QAAQ,CAAC;IAC9BK,MAAM,CAACO,mBAAmB,CAAC,WAAW,EAAEX,QAAQ,CAAC;IACjDM,QAAQ,CAACK,mBAAmB,CAAC,MAAM,EAAEX,QAAQ,CAAC;EAChD;EAEA,SAASG,IAAIA,CAAED,KAAoB,EAAE;IACnCL,YAAY,CAACK,KAAK,KAAK,IAAI,CAAC;EAC9B;EAEA,OAAO;IAAED,SAAS,EAATA,SAAS;IAAED,QAAA,EAAAA;EAAS,CAAC;AAChC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}