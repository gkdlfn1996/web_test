{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, resolveDirective as _resolveDirective, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"versions-section\"\n};\nvar _hoisted_2 = {\n  \"class\": \"note-section\"\n};\nvar _hoisted_3 = {\n  \"class\": \"my-note\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_v_textarea = _resolveComponent(\"v-textarea\");\n  var _component_v_data_table = _resolveComponent(\"v-data-table\");\n  var _directive_model47196 = _resolveDirective(\"model로\");\n  return $props.versions.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"h2\", null, \"Version\", -1 /* CACHED */)), _createVNode(_component_v_data_table, {\n    headers: $setup.versionHeaders,\n    items: $props.versions,\n    \"item-key\": \"id\",\n    \"class\": \"elevation-1\",\n    \"hide-default-footer\": \"\",\n    \"disable-pagination\": \"\"\n  }, {\n    \"item.note\": _withCtx(function (_ref) {\n      var item = _ref.item;\n      return [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, \"My Draft Note (\" + _toDisplayString(item.code) + \")\", 1 /* TEXT */), _withDirectives((_openBlock(), _createBlock(_component_v_textarea, {\n        label: \"여기에 노트를 작성하세요\",\n        rows: \"3\",\n        modelValue: $setup.localNotesContent[item.id],\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return $setup.localNotesContent[item.id] = $event;\n        },\n        \"<!--\": \"\",\n        로컬: \"\",\n        상태에: \"\",\n        바인딩: \"\",\n        \"--\": \"\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_cache[0] || (_cache[0] = _createTextVNode(\" @blur=\\\"handleBlur(item.id, localNotesContent[item.id])\\\" \")), _createCommentVNode(\" blur 이벤트에서만 저장 트리거 \"), _cache[1] || (_cache[1] = _createTextVNode(\" variant=\\\"outlined\\\" >\"))];\n        }),\n        _: 2 /* DYNAMIC */,\n        __: [0, 1]\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"modelValue\", \"onUpdate:modelValue\"])), [[_directive_model47196]])]), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n        \"class\": \"other-notes\"\n      }, [_createElementVNode(\"h3\", null, \"Others Draft Notes\"), _createElementVNode(\"p\", null, \"다른 사람의 노트 내용이 여기에 실시간으로 표시됩니다.\")], -1 /* CACHED */))])];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"items\"])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["$props","versions","length","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_v_data_table","headers","$setup","versionHeaders","items","_withCtx","_ref","item","_hoisted_2","_hoisted_3","_toDisplayString","code","_createBlock","_component_v_textarea","label","rows","localNotesContent","id","$event","로컬","상태에","바인딩","_createCommentVNode"],"sources":["/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/src/components/VersionTable.vue"],"sourcesContent":["<!-- frontend/src/components/VersionTable.vue -->\n<template>\n  <div class=\"versions-section\" v-if=\"versions.length\">\n    <h2>Version</h2>\n    <v-data-table\n      :headers=\"versionHeaders\"\n      :items=\"versions\"\n      item-key=\"id\"\n      class=\"elevation-1\"\n      hide-default-footer\n      disable-pagination\n    >\n      <template v-slot:item.note=\"{ item }\">\n        <div class=\"note-section\">\n          <div class=\"my-note\">\n            <h3>My Draft Note ({{ item.code }})</h3>\n            <v-textarea\n              label=\"여기에 노트를 작성하세요\"\n              rows=\"3\"\n              v-model=\"localNotesContent[item.id]\" <!-- v-model로 로컬 상태에 바인딩 -->\n              @blur=\"handleBlur(item.id, localNotesContent[item.id])\" <!-- blur 이벤트에서만 저장 트리거 -->\n              variant=\"outlined\"\n            ></v-textarea>\n          </div>\n          <div class=\"other-notes\">\n            <h3>Others Draft Notes</h3>\n            <p>다른 사람의 노트 내용이 여기에 실시간으로 표시됩니다.</p>\n          </div>\n        </div>\n      </template>\n    </v-data-table>\n  </div>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, ref, watch } from 'vue';\n\nconst props = defineProps({\n  versions: Array,\n  notes: Object, // notesContent 객체 (초기값 및 외부 업데이트용)\n});\n\nconst emit = defineEmits(['save-note']);\n\nconst versionHeaders = [\n  { title: 'Version', key: 'code', sortable: false },\n  { title: 'Note', key: 'note', sortable: false },\n];\n\n// 로컬 노트 내용을 저장할 반응형 객체\nconst localNotesContent = ref({});\n\n// props.notes가 변경될 때 localNotesContent를 초기화\nwatch(() => props.notes, (newNotes) => {\n  localNotesContent.value = { ...newNotes };\n}, { immediate: true, deep: true });\n\nconst handleBlur = (versionId, content) => {\n  emit('save-note', versionId, content);\n};\n</script>\n\n<style scoped>\n/* 필요한 스타일이 있다면 여기에 추가 */\n</style>"],"mappings":";;;EAEO,SAAM;;;EAWA,SAAM;AAAc;;EAClB,SAAM;AAAS;;;;;SAZQA,MAAA,CAAAC,QAAQ,CAACC,MAAM,I,cAAnDC,mBAAA,CA6BM,OA7BNC,UA6BM,G,0BA5BJC,mBAAA,CAAgB,YAAZ,SAAO,qBACXC,YAAA,CA0BeC,uBAAA;IAzBZC,OAAO,EAAEC,MAAA,CAAAC,cAAc;IACvBC,KAAK,EAAEX,MAAA,CAAAC,QAAQ;IAChB,UAAQ,EAAC,IAAI;IACb,SAAM,aAAa;IACnB,qBAAmB,EAAnB,EAAmB;IACnB,oBAAkB,EAAlB;;IAEiB,WAAS,EAAAW,QAAA,CACxB,UAAAC,IAAA;MAAA,IAD4BC,IAAI,GAAAD,IAAA,CAAJC,IAAI;MAAA,QAChCT,mBAAA,CAeM,OAfNU,UAeM,GAdJV,mBAAA,CASM,OATNW,UASM,GARJX,mBAAA,CAAwC,YAApC,iBAAe,GAAAY,gBAAA,CAAGH,IAAI,CAACI,IAAI,IAAG,GAAC,iB,+BACnCC,YAAA,CAMcC,qBAAA;QALZC,KAAK,EAAC,eAAe;QACrBC,IAAI,EAAC,GAAG;oBACCb,MAAA,CAAAc,iBAAiB,CAACT,IAAI,CAACU,EAAE;;iBAAzBf,MAAA,CAAAc,iBAAiB,CAACT,IAAI,CAACU,EAAE,IAAAC,MAAA;QAAA;QAAG,MAAI,EAAJ,EAAI;QAAUC,EAAE,EAAF,EAAE;QAACC,GAAG,EAAH,EAAG;QAACC,GAAG,EAAH,EAAG;QAAC,IAAE,EAAF;;4BAAG;UAAA,OACT,C,2CADS,6DACT,IAAAC,mBAAA,wBAA2B,E,2CAAA,yBAEpF,G;;;;2IAEHxB,mBAAA,CAGM;QAHD,SAAM;MAAa,IACtBA,mBAAA,CAA2B,YAAvB,oBAAkB,GACtBA,mBAAA,CAAqC,WAAlC,gCAA8B,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}