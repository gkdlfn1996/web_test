{"ast":null,"code":"import _slicedToArray from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _typeof from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _toConsumableArray from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.every.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.some.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.every.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n// Composables\nimport { useProxiedModel } from \"../../../composables/proxiedModel.js\"; // Utilities\nimport { computed, inject, provide, shallowRef, toRef } from 'vue';\nimport { deepEqual, propsFactory, wrapInArray } from \"../../../util/index.js\"; // Types\nvar singleSelectStrategy = {\n  showSelectAll: false,\n  allSelected: function allSelected() {\n    return [];\n  },\n  select: function select(_ref) {\n    var _items$;\n    var items = _ref.items,\n      value = _ref.value;\n    return new Set(value ? [(_items$ = items[0]) === null || _items$ === void 0 ? void 0 : _items$.value] : []);\n  },\n  selectAll: function selectAll(_ref2) {\n    var selected = _ref2.selected;\n    return selected;\n  }\n};\nvar pageSelectStrategy = {\n  showSelectAll: true,\n  allSelected: function allSelected(_ref3) {\n    var currentPage = _ref3.currentPage;\n    return currentPage;\n  },\n  select: function select(_ref4) {\n    var items = _ref4.items,\n      value = _ref4.value,\n      selected = _ref4.selected;\n    var _iterator = _createForOfIteratorHelper(items),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var item = _step.value;\n        if (value) selected.add(item.value);else selected[\"delete\"](item.value);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return selected;\n  },\n  selectAll: function selectAll(_ref5) {\n    var value = _ref5.value,\n      currentPage = _ref5.currentPage,\n      selected = _ref5.selected;\n    return pageSelectStrategy.select({\n      items: currentPage,\n      value: value,\n      selected: selected\n    });\n  }\n};\nvar allSelectStrategy = {\n  showSelectAll: true,\n  allSelected: function allSelected(_ref6) {\n    var allItems = _ref6.allItems;\n    return allItems;\n  },\n  select: function select(_ref7) {\n    var items = _ref7.items,\n      value = _ref7.value,\n      selected = _ref7.selected;\n    var _iterator2 = _createForOfIteratorHelper(items),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var item = _step2.value;\n        if (value) selected.add(item.value);else selected[\"delete\"](item.value);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n    return selected;\n  },\n  selectAll: function selectAll(_ref8) {\n    var value = _ref8.value,\n      allItems = _ref8.allItems,\n      selected = _ref8.selected;\n    return allSelectStrategy.select({\n      items: allItems,\n      value: value,\n      selected: selected\n    });\n  }\n};\nexport var makeDataTableSelectProps = propsFactory({\n  showSelect: Boolean,\n  selectStrategy: {\n    type: [String, Object],\n    \"default\": 'page'\n  },\n  modelValue: {\n    type: Array,\n    \"default\": function _default() {\n      return [];\n    }\n  },\n  valueComparator: {\n    type: Function,\n    \"default\": deepEqual\n  }\n}, 'DataTable-select');\nexport var VDataTableSelectionSymbol = Symbol[\"for\"]('vuetify:data-table-selection');\nexport function provideSelection(props, _ref9) {\n  var allItems = _ref9.allItems,\n    currentPage = _ref9.currentPage;\n  var selected = useProxiedModel(props, 'modelValue', props.modelValue, function (v) {\n    return new Set(wrapInArray(v).map(function (v) {\n      var _allItems$value$find$, _allItems$value$find;\n      return (_allItems$value$find$ = (_allItems$value$find = allItems.value.find(function (item) {\n        return props.valueComparator(v, item.value);\n      })) === null || _allItems$value$find === void 0 ? void 0 : _allItems$value$find.value) !== null && _allItems$value$find$ !== void 0 ? _allItems$value$find$ : v;\n    }));\n  }, function (v) {\n    return _toConsumableArray(v.values());\n  });\n  var allSelectable = computed(function () {\n    return allItems.value.filter(function (item) {\n      return item.selectable;\n    });\n  });\n  var currentPageSelectable = computed(function () {\n    return currentPage.value.filter(function (item) {\n      return item.selectable;\n    });\n  });\n  var selectStrategy = computed(function () {\n    if (_typeof(props.selectStrategy) === 'object') return props.selectStrategy;\n    switch (props.selectStrategy) {\n      case 'single':\n        return singleSelectStrategy;\n      case 'all':\n        return allSelectStrategy;\n      case 'page':\n      default:\n        return pageSelectStrategy;\n    }\n  });\n  var lastSelectedIndex = shallowRef(null);\n  function isSelected(items) {\n    return wrapInArray(items).every(function (item) {\n      return selected.value.has(item.value);\n    });\n  }\n  function isSomeSelected(items) {\n    return wrapInArray(items).some(function (item) {\n      return selected.value.has(item.value);\n    });\n  }\n  function select(items, value) {\n    var newSelected = selectStrategy.value.select({\n      items: items,\n      value: value,\n      selected: new Set(selected.value)\n    });\n    selected.value = newSelected;\n  }\n  function toggleSelect(item, index, event) {\n    var items = [];\n    index = index !== null && index !== void 0 ? index : currentPage.value.findIndex(function (i) {\n      return i.value === item.value;\n    });\n    if (props.selectStrategy !== 'single' && event !== null && event !== void 0 && event.shiftKey && lastSelectedIndex.value !== null) {\n      var _sort = [lastSelectedIndex.value, index].sort(function (a, b) {\n          return a - b;\n        }),\n        _sort2 = _slicedToArray(_sort, 2),\n        start = _sort2[0],\n        end = _sort2[1];\n      items.push.apply(items, _toConsumableArray(currentPage.value.slice(start, end + 1).filter(function (item) {\n        return item.selectable;\n      })));\n    } else {\n      items.push(item);\n      lastSelectedIndex.value = index;\n    }\n    select(items, !isSelected([item]));\n  }\n  function selectAll(value) {\n    var newSelected = selectStrategy.value.selectAll({\n      value: value,\n      allItems: allSelectable.value,\n      currentPage: currentPageSelectable.value,\n      selected: new Set(selected.value)\n    });\n    selected.value = newSelected;\n  }\n  var someSelected = computed(function () {\n    return selected.value.size > 0;\n  });\n  var allSelected = computed(function () {\n    var items = selectStrategy.value.allSelected({\n      allItems: allSelectable.value,\n      currentPage: currentPageSelectable.value\n    });\n    return !!items.length && isSelected(items);\n  });\n  var showSelectAll = toRef(function () {\n    return selectStrategy.value.showSelectAll;\n  });\n  var data = {\n    toggleSelect: toggleSelect,\n    select: select,\n    selectAll: selectAll,\n    isSelected: isSelected,\n    isSomeSelected: isSomeSelected,\n    someSelected: someSelected,\n    allSelected: allSelected,\n    showSelectAll: showSelectAll,\n    lastSelectedIndex: lastSelectedIndex,\n    selectStrategy: selectStrategy\n  };\n  provide(VDataTableSelectionSymbol, data);\n  return data;\n}\nexport function useSelection() {\n  var data = inject(VDataTableSelectionSymbol);\n  if (!data) throw new Error('Missing selection!');\n  return data;\n}","map":{"version":3,"names":["useProxiedModel","computed","inject","provide","shallowRef","toRef","deepEqual","propsFactory","wrapInArray","singleSelectStrategy","showSelectAll","allSelected","select","_ref","_items$","items","value","Set","selectAll","_ref2","selected","pageSelectStrategy","_ref3","currentPage","_ref4","_iterator","_createForOfIteratorHelper","_step","s","n","done","item","add","err","e","f","_ref5","allSelectStrategy","_ref6","allItems","_ref7","_iterator2","_step2","_ref8","makeDataTableSelectProps","showSelect","Boolean","selectStrategy","type","String","Object","modelValue","Array","default","valueComparator","Function","VDataTableSelectionSymbol","Symbol","provideSelection","props","_ref9","v","map","_allItems$value$find$","_allItems$value$find","find","_toConsumableArray","values","allSelectable","filter","selectable","currentPageSelectable","_typeof","lastSelectedIndex","isSelected","every","has","isSomeSelected","some","newSelected","toggleSelect","index","event","findIndex","i","shiftKey","_sort","sort","a","b","_sort2","_slicedToArray","start","end","push","apply","slice","someSelected","size","length","data","useSelection","Error"],"sources":["../../../../src/components/VDataTable/composables/select.ts"],"sourcesContent":["// Composables\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, inject, provide, shallowRef, toRef } from 'vue'\nimport { deepEqual, propsFactory, wrapInArray } from '@/util'\n\n// Types\nimport type { InjectionKey, PropType, Ref } from 'vue'\nimport type { DataTableItemProps } from './items'\nimport type { EventProp } from '@/util'\n\nexport interface SelectableItem {\n  value: any\n  selectable: boolean\n}\n\nexport interface DataTableSelectStrategy {\n  showSelectAll: boolean\n  allSelected: (data: {\n    allItems: SelectableItem[]\n    currentPage: SelectableItem[]\n  }) => SelectableItem[]\n  select: (data: {\n    items: SelectableItem[]\n    value: boolean\n    selected: Set<unknown>\n  }) => Set<unknown>\n  selectAll: (data: {\n    value: boolean\n    allItems: SelectableItem[]\n    currentPage: SelectableItem[]\n    selected: Set<unknown>\n  }) => Set<unknown>\n}\n\ntype SelectionProps = Pick<DataTableItemProps, 'itemValue'> & {\n  modelValue: readonly any[]\n  selectStrategy: 'single' | 'page' | 'all'\n  valueComparator: typeof deepEqual\n  'onUpdate:modelValue': EventProp<[any[]]> | undefined\n}\n\nconst singleSelectStrategy: DataTableSelectStrategy = {\n  showSelectAll: false,\n  allSelected: () => [],\n  select: ({ items, value }) => {\n    return new Set(value ? [items[0]?.value] : [])\n  },\n  selectAll: ({ selected }) => selected,\n}\n\nconst pageSelectStrategy: DataTableSelectStrategy = {\n  showSelectAll: true,\n  allSelected: ({ currentPage }) => currentPage,\n  select: ({ items, value, selected }) => {\n    for (const item of items) {\n      if (value) selected.add(item.value)\n      else selected.delete(item.value)\n    }\n\n    return selected\n  },\n  selectAll: ({ value, currentPage, selected }) => pageSelectStrategy.select({ items: currentPage, value, selected }),\n}\n\nconst allSelectStrategy: DataTableSelectStrategy = {\n  showSelectAll: true,\n  allSelected: ({ allItems }) => allItems,\n  select: ({ items, value, selected }) => {\n    for (const item of items) {\n      if (value) selected.add(item.value)\n      else selected.delete(item.value)\n    }\n\n    return selected\n  },\n  selectAll: ({ value, allItems, selected }) => allSelectStrategy.select({ items: allItems, value, selected }),\n}\n\nexport const makeDataTableSelectProps = propsFactory({\n  showSelect: Boolean,\n  selectStrategy: {\n    type: [String, Object] as PropType<'single' | 'page' | 'all'>,\n    default: 'page',\n  },\n  modelValue: {\n    type: Array as PropType<readonly any[]>,\n    default: () => ([]),\n  },\n  valueComparator: {\n    type: Function as PropType<typeof deepEqual>,\n    default: deepEqual,\n  },\n}, 'DataTable-select')\n\nexport const VDataTableSelectionSymbol: InjectionKey<ReturnType<typeof provideSelection>> = Symbol.for('vuetify:data-table-selection')\n\nexport function provideSelection (\n  props: SelectionProps,\n  { allItems, currentPage }: { allItems: Ref<SelectableItem[]>, currentPage: Ref<SelectableItem[]> }\n) {\n  const selected = useProxiedModel(props, 'modelValue', props.modelValue, v => {\n    return new Set(wrapInArray(v).map(v => {\n      return allItems.value.find(item => props.valueComparator(v, item.value))?.value ?? v\n    }))\n  }, v => {\n    return [...v.values()]\n  })\n\n  const allSelectable = computed(() => allItems.value.filter(item => item.selectable))\n  const currentPageSelectable = computed(() => currentPage.value.filter(item => item.selectable))\n\n  const selectStrategy = computed(() => {\n    if (typeof props.selectStrategy === 'object') return props.selectStrategy\n\n    switch (props.selectStrategy) {\n      case 'single': return singleSelectStrategy\n      case 'all': return allSelectStrategy\n      case 'page':\n      default: return pageSelectStrategy\n    }\n  })\n\n  const lastSelectedIndex = shallowRef<number | null>(null)\n\n  function isSelected (items: SelectableItem | SelectableItem[]) {\n    return wrapInArray(items).every(item => selected.value.has(item.value))\n  }\n\n  function isSomeSelected (items: SelectableItem | SelectableItem[]) {\n    return wrapInArray(items).some(item => selected.value.has(item.value))\n  }\n\n  function select (items: SelectableItem[], value: boolean) {\n    const newSelected = selectStrategy.value.select({\n      items,\n      value,\n      selected: new Set(selected.value),\n    })\n\n    selected.value = newSelected\n  }\n\n  function toggleSelect (item: SelectableItem, index?: number, event?: MouseEvent) {\n    const items = []\n    index = index ?? currentPage.value.findIndex(i => i.value === item.value)\n\n    if (props.selectStrategy !== 'single' && event?.shiftKey && lastSelectedIndex.value !== null) {\n      const [start, end] = [lastSelectedIndex.value, index].sort((a, b) => a - b)\n\n      items.push(...currentPage.value.slice(start, end + 1).filter(item => item.selectable))\n    } else {\n      items.push(item)\n      lastSelectedIndex.value = index\n    }\n\n    select(items, !isSelected([item]))\n  }\n\n  function selectAll (value: boolean) {\n    const newSelected = selectStrategy.value.selectAll({\n      value,\n      allItems: allSelectable.value,\n      currentPage: currentPageSelectable.value,\n      selected: new Set(selected.value),\n    })\n\n    selected.value = newSelected\n  }\n\n  const someSelected = computed(() => selected.value.size > 0)\n  const allSelected = computed(() => {\n    const items = selectStrategy.value.allSelected({\n      allItems: allSelectable.value,\n      currentPage: currentPageSelectable.value,\n    })\n    return !!items.length && isSelected(items)\n  })\n  const showSelectAll = toRef(() => selectStrategy.value.showSelectAll)\n\n  const data = {\n    toggleSelect,\n    select,\n    selectAll,\n    isSelected,\n    isSomeSelected,\n    someSelected,\n    allSelected,\n    showSelectAll,\n    lastSelectedIndex,\n    selectStrategy,\n  }\n\n  provide(VDataTableSelectionSymbol, data)\n\n  return data\n}\n\nexport function useSelection () {\n  const data = inject(VDataTableSelectionSymbol)\n\n  if (!data) throw new Error('Missing selection!')\n\n  return data\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}