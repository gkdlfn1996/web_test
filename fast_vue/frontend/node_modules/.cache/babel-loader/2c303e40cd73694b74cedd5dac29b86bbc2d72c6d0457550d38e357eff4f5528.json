{"ast":null,"code":"import _regenerator from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _objectWithoutProperties from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _asyncToGenerator from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"modelValue\"];\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.number.max-safe-integer.js\";\nimport \"core-js/modules/es.number.min-safe-integer.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, Fragment as _Fragment, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VNumberInput.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.js\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.js\";\nimport { VDivider } from \"../VDivider/index.js\";\nimport { makeVTextFieldProps, VTextField } from \"../VTextField/VTextField.js\"; // Composables\nimport { useHold } from \"./hold.js\";\nimport { useForm } from \"../../composables/form.js\";\nimport { forwardRefs } from \"../../composables/forwardRefs.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\"; // Utilities\nimport { computed, nextTick, onMounted, ref, shallowRef, toRef, watch, watchEffect } from 'vue';\nimport { clamp, extractNumber, genericComponent, omit, propsFactory, useRender } from \"../../util/index.js\"; // Types\nvar makeVNumberInputProps = propsFactory(_objectSpread({\n  controlVariant: {\n    type: String,\n    \"default\": 'default'\n  },\n  inset: Boolean,\n  hideInput: Boolean,\n  modelValue: {\n    type: Number,\n    \"default\": null\n  },\n  min: {\n    type: Number,\n    \"default\": Number.MIN_SAFE_INTEGER\n  },\n  max: {\n    type: Number,\n    \"default\": Number.MAX_SAFE_INTEGER\n  },\n  step: {\n    type: Number,\n    \"default\": 1\n  },\n  precision: {\n    type: Number,\n    \"default\": 0\n  }\n}, omit(makeVTextFieldProps(), ['modelValue', 'validationValue'])), 'VNumberInput');\nexport var VNumberInput = genericComponent()({\n  name: 'VNumberInput',\n  props: _objectSpread({}, makeVNumberInputProps()),\n  emits: {\n    'update:focused': function updateFocused(val) {\n      return true;\n    },\n    'update:modelValue': function updateModelValue(val) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots;\n    var vTextFieldRef = ref();\n    var _useHold = useHold({\n        toggleUpDown: toggleUpDown\n      }),\n      holdStart = _useHold.holdStart,\n      holdStop = _useHold.holdStop;\n    var form = useForm(props);\n    var controlsDisabled = computed(function () {\n      return form.isDisabled.value || form.isReadonly.value;\n    });\n    var isFocused = shallowRef(props.focused);\n    function correctPrecision(val) {\n      var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : props.precision;\n      var fixed = precision == null ? String(val) : val.toFixed(precision);\n      return isFocused.value ? Number(fixed).toString() // trim zeros\n      : fixed;\n    }\n    var model = useProxiedModel(props, 'modelValue', null, function (val) {\n      return val !== null && val !== void 0 ? val : null;\n    }, function (val) {\n      return val == null ? val !== null && val !== void 0 ? val : null : clamp(Number(val), props.min, props.max);\n    });\n    var _inputText = shallowRef(null);\n    watchEffect(function () {\n      if (isFocused.value && !controlsDisabled.value) {\n        // ignore external changes\n      } else if (model.value == null) {\n        _inputText.value = null;\n      } else if (!isNaN(model.value)) {\n        _inputText.value = correctPrecision(model.value);\n      }\n    });\n    var inputText = computed({\n      get: function get() {\n        return _inputText.value;\n      },\n      set: function set(val) {\n        if (val === null || val === '') {\n          model.value = null;\n          _inputText.value = null;\n        } else if (!isNaN(Number(val)) && Number(val) <= props.max && Number(val) >= props.min) {\n          model.value = Number(val);\n          _inputText.value = val;\n        }\n      }\n    });\n    var canIncrease = computed(function () {\n      var _model$value;\n      if (controlsDisabled.value) return false;\n      return ((_model$value = model.value) !== null && _model$value !== void 0 ? _model$value : 0) + props.step <= props.max;\n    });\n    var canDecrease = computed(function () {\n      var _model$value2;\n      if (controlsDisabled.value) return false;\n      return ((_model$value2 = model.value) !== null && _model$value2 !== void 0 ? _model$value2 : 0) - props.step >= props.min;\n    });\n    var controlVariant = computed(function () {\n      return props.hideInput ? 'stacked' : props.controlVariant;\n    });\n    var incrementIcon = toRef(function () {\n      return controlVariant.value === 'split' ? '$plus' : '$collapse';\n    });\n    var decrementIcon = toRef(function () {\n      return controlVariant.value === 'split' ? '$minus' : '$expand';\n    });\n    var controlNodeSize = toRef(function () {\n      return controlVariant.value === 'split' ? 'default' : 'small';\n    });\n    var controlNodeDefaultHeight = toRef(function () {\n      return controlVariant.value === 'stacked' ? 'auto' : '100%';\n    });\n    var incrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onUpControlMousedown,\n        onPointercancel: onControlMouseup\n      }\n    };\n    var decrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onDownControlMousedown,\n        onPointercancel: onControlMouseup\n      }\n    };\n    watch(function () {\n      return props.precision;\n    }, function () {\n      return formatInputValue();\n    });\n    onMounted(function () {\n      clampModel();\n    });\n    function inferPrecision(value) {\n      if (value == null) return 0;\n      var str = value.toString();\n      var idx = str.indexOf('.');\n      return ~idx ? str.length - idx : 0;\n    }\n    function toggleUpDown() {\n      var increment = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (controlsDisabled.value) return;\n      if (model.value == null) {\n        inputText.value = correctPrecision(clamp(0, props.min, props.max));\n        return;\n      }\n      var inferredPrecision = Math.max(inferPrecision(model.value), inferPrecision(props.step));\n      if (props.precision != null) inferredPrecision = Math.max(inferredPrecision, props.precision);\n      if (increment) {\n        if (canIncrease.value) inputText.value = correctPrecision(model.value + props.step, inferredPrecision);\n      } else {\n        if (canDecrease.value) inputText.value = correctPrecision(model.value - props.step, inferredPrecision);\n      }\n    }\n    function onBeforeinput(e) {\n      var _potentialNewInputVal;\n      if (!e.data) return;\n      var inputElement = e.target;\n      var _ref2 = inputElement !== null && inputElement !== void 0 ? inputElement : {},\n        existingTxt = _ref2.value,\n        selectionStart = _ref2.selectionStart,\n        selectionEnd = _ref2.selectionEnd;\n      var potentialNewInputVal = existingTxt ? existingTxt.slice(0, selectionStart) + e.data + existingTxt.slice(selectionEnd) : e.data;\n      var potentialNewNumber = extractNumber(potentialNewInputVal, props.precision);\n\n      // Only numbers, \"-\", \".\" are allowed\n      // AND \"-\", \".\" are allowed only once\n      // AND \"-\" is only allowed at the start\n      if (!/^-?(\\d+(\\.\\d*)?|(\\.\\d+)|\\d*|\\.)$/.test(potentialNewInputVal)) {\n        e.preventDefault();\n        inputElement.value = potentialNewNumber;\n      }\n      if (props.precision == null) return;\n\n      // Ignore decimal digits above precision limit\n      if (((_potentialNewInputVal = potentialNewInputVal.split('.')[1]) === null || _potentialNewInputVal === void 0 ? void 0 : _potentialNewInputVal.length) > props.precision) {\n        e.preventDefault();\n        inputElement.value = potentialNewNumber;\n      }\n      // Ignore decimal separator when precision = 0\n      if (props.precision === 0 && potentialNewInputVal.includes('.')) {\n        e.preventDefault();\n        inputElement.value = potentialNewNumber;\n      }\n    }\n    function onKeydown(_x) {\n      return _onKeydown.apply(this, arguments);\n    }\n    function _onKeydown() {\n      _onKeydown = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee(e) {\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              if (!(['Enter', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Delete', 'Tab'].includes(e.key) || e.ctrlKey)) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2);\n            case 1:\n              if (!['ArrowDown', 'ArrowUp'].includes(e.key)) {\n                _context.n = 3;\n                break;\n              }\n              e.preventDefault();\n              clampModel();\n              // _model is controlled, so need to wait until props['modelValue'] is updated\n              _context.n = 2;\n              return nextTick();\n            case 2:\n              if (e.key === 'ArrowDown') {\n                toggleUpDown(false);\n              } else {\n                toggleUpDown();\n              }\n            case 3:\n              return _context.a(2);\n          }\n        }, _callee);\n      }));\n      return _onKeydown.apply(this, arguments);\n    }\n    function onControlClick(e) {\n      e.stopPropagation();\n    }\n    function onControlMouseup(e) {\n      var el = e.currentTarget;\n      el === null || el === void 0 || el.releasePointerCapture(e.pointerId);\n      e.preventDefault();\n      holdStop();\n    }\n    function onUpControlMousedown(e) {\n      var el = e.currentTarget;\n      el === null || el === void 0 || el.setPointerCapture(e.pointerId);\n      e.preventDefault();\n      e.stopPropagation();\n      holdStart('up');\n    }\n    function onDownControlMousedown(e) {\n      var el = e.currentTarget;\n      el === null || el === void 0 || el.setPointerCapture(e.pointerId);\n      e.preventDefault();\n      e.stopPropagation();\n      holdStart('down');\n    }\n    function clampModel() {\n      if (controlsDisabled.value) return;\n      if (!vTextFieldRef.value) return;\n      var actualText = vTextFieldRef.value.value;\n      if (actualText && !isNaN(Number(actualText))) {\n        inputText.value = correctPrecision(clamp(Number(actualText), props.min, props.max));\n      } else {\n        inputText.value = null;\n      }\n    }\n    function formatInputValue() {\n      if (controlsDisabled.value) return;\n      if (model.value === null || isNaN(model.value)) {\n        inputText.value = null;\n        return;\n      }\n      inputText.value = props.precision == null ? String(model.value) : model.value.toFixed(props.precision);\n    }\n    function trimDecimalZeros() {\n      if (controlsDisabled.value) return;\n      if (model.value === null || isNaN(model.value)) {\n        inputText.value = null;\n        return;\n      }\n      inputText.value = model.value.toString();\n    }\n    function onFocus() {\n      trimDecimalZeros();\n    }\n    function onBlur() {\n      clampModel();\n    }\n    useRender(function () {\n      var _VTextField$filterPro = VTextField.filterProps(props),\n        _ = _VTextField$filterPro.modelValue,\n        textFieldProps = _objectWithoutProperties(_VTextField$filterPro, _excluded);\n      function incrementControlNode() {\n        return !slots.increment ? _createVNode(VBtn, {\n          \"aria-hidden\": \"true\",\n          \"data-testid\": \"increment\",\n          \"disabled\": !canIncrease.value,\n          \"flat\": true,\n          \"height\": controlNodeDefaultHeight.value,\n          \"icon\": incrementIcon.value,\n          \"key\": \"increment-btn\",\n          \"onClick\": onControlClick,\n          \"onPointerdown\": onUpControlMousedown,\n          \"onPointerup\": onControlMouseup,\n          \"onPointercancel\": onControlMouseup,\n          \"size\": controlNodeSize.value,\n          \"tabindex\": \"-1\"\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"increment-defaults\",\n          \"defaults\": {\n            VBtn: {\n              disabled: !canIncrease.value,\n              flat: true,\n              height: controlNodeDefaultHeight.value,\n              size: controlNodeSize.value,\n              icon: incrementIcon.value\n            }\n          }\n        }, {\n          \"default\": function _default() {\n            return [slots.increment(incrementSlotProps)];\n          }\n        });\n      }\n      function decrementControlNode() {\n        return !slots.decrement ? _createVNode(VBtn, {\n          \"aria-hidden\": \"true\",\n          \"data-testid\": \"decrement\",\n          \"disabled\": !canDecrease.value,\n          \"flat\": true,\n          \"height\": controlNodeDefaultHeight.value,\n          \"icon\": decrementIcon.value,\n          \"key\": \"decrement-btn\",\n          \"onClick\": onControlClick,\n          \"onPointerdown\": onDownControlMousedown,\n          \"onPointerup\": onControlMouseup,\n          \"onPointercancel\": onControlMouseup,\n          \"size\": controlNodeSize.value,\n          \"tabindex\": \"-1\"\n        }, null) : _createVNode(VDefaultsProvider, {\n          \"key\": \"decrement-defaults\",\n          \"defaults\": {\n            VBtn: {\n              disabled: !canDecrease.value,\n              flat: true,\n              height: controlNodeDefaultHeight.value,\n              size: controlNodeSize.value,\n              icon: decrementIcon.value\n            }\n          }\n        }, {\n          \"default\": function _default() {\n            return [slots.decrement(decrementSlotProps)];\n          }\n        });\n      }\n      function controlNode() {\n        return _createElementVNode(\"div\", {\n          \"class\": \"v-number-input__control\"\n        }, [decrementControlNode(), _createVNode(VDivider, {\n          \"vertical\": controlVariant.value !== 'stacked'\n        }, null), incrementControlNode()]);\n      }\n      function dividerNode() {\n        return !props.hideInput && !props.inset ? _createVNode(VDivider, {\n          \"vertical\": true\n        }, null) : undefined;\n      }\n      var appendInnerControl = controlVariant.value === 'split' ? _createElementVNode(\"div\", {\n        \"class\": \"v-number-input__control\"\n      }, [_createVNode(VDivider, {\n        \"vertical\": true\n      }, null), incrementControlNode()]) : props.reverse || controlVariant.value === 'hidden' ? undefined : _createElementVNode(_Fragment, null, [dividerNode(), controlNode()]);\n      var hasAppendInner = slots['append-inner'] || appendInnerControl;\n      var prependInnerControl = controlVariant.value === 'split' ? _createElementVNode(\"div\", {\n        \"class\": \"v-number-input__control\"\n      }, [decrementControlNode(), _createVNode(VDivider, {\n        \"vertical\": true\n      }, null)]) : props.reverse && controlVariant.value !== 'hidden' ? _createElementVNode(_Fragment, null, [controlNode(), dividerNode()]) : undefined;\n      var hasPrependInner = slots['prepend-inner'] || prependInnerControl;\n      return _createVNode(VTextField, _mergeProps({\n        \"ref\": vTextFieldRef\n      }, textFieldProps, {\n        \"modelValue\": inputText.value,\n        \"onUpdate:modelValue\": function onUpdateModelValue($event) {\n          return inputText.value = $event;\n        },\n        \"focused\": isFocused.value,\n        \"onUpdate:focused\": function onUpdateFocused($event) {\n          return isFocused.value = $event;\n        },\n        \"validationValue\": model.value,\n        \"onBeforeinput\": onBeforeinput,\n        \"onFocus\": onFocus,\n        \"onBlur\": onBlur,\n        \"onKeydown\": onKeydown,\n        \"class\": ['v-number-input', {\n          'v-number-input--default': controlVariant.value === 'default',\n          'v-number-input--hide-input': props.hideInput,\n          'v-number-input--inset': props.inset,\n          'v-number-input--reverse': props.reverse,\n          'v-number-input--split': controlVariant.value === 'split',\n          'v-number-input--stacked': controlVariant.value === 'stacked'\n        }, props[\"class\"]],\n        \"style\": props.style,\n        \"inputmode\": \"decimal\"\n      }), _objectSpread(_objectSpread({}, slots), {}, {\n        'append-inner': hasAppendInner ? function () {\n          var _slots$appendInner;\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createElementVNode(_Fragment, null, [(_slots$appendInner = slots['append-inner']) === null || _slots$appendInner === void 0 ? void 0 : _slots$appendInner.call.apply(_slots$appendInner, [slots].concat(args)), appendInnerControl]);\n        } : undefined,\n        'prepend-inner': hasPrependInner ? function () {\n          var _slots$prependInner;\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n          return _createElementVNode(_Fragment, null, [prependInnerControl, (_slots$prependInner = slots['prepend-inner']) === null || _slots$prependInner === void 0 ? void 0 : _slots$prependInner.call.apply(_slots$prependInner, [slots].concat(args))]);\n        } : undefined\n      }));\n    });\n    return forwardRefs({}, vTextFieldRef);\n  }\n});","map":{"version":3,"names":["VBtn","VDefaultsProvider","VDivider","makeVTextFieldProps","VTextField","useHold","useForm","forwardRefs","useProxiedModel","computed","nextTick","onMounted","ref","shallowRef","toRef","watch","watchEffect","clamp","extractNumber","genericComponent","omit","propsFactory","useRender","makeVNumberInputProps","_objectSpread","controlVariant","type","String","inset","Boolean","hideInput","modelValue","Number","min","MIN_SAFE_INTEGER","max","MAX_SAFE_INTEGER","step","precision","VNumberInput","name","props","emits","updateFocused","val","updateModelValue","setup","_ref","slots","vTextFieldRef","_useHold","toggleUpDown","holdStart","holdStop","form","controlsDisabled","isDisabled","value","isReadonly","isFocused","focused","correctPrecision","arguments","length","undefined","fixed","toFixed","toString","model","_inputText","isNaN","inputText","get","set","canIncrease","_model$value","canDecrease","_model$value2","incrementIcon","decrementIcon","controlNodeSize","controlNodeDefaultHeight","incrementSlotProps","onClick","onControlClick","onPointerup","onControlMouseup","onPointerdown","onUpControlMousedown","onPointercancel","decrementSlotProps","onDownControlMousedown","formatInputValue","clampModel","inferPrecision","str","idx","indexOf","increment","inferredPrecision","Math","onBeforeinput","e","_potentialNewInputVal","data","inputElement","target","_ref2","existingTxt","selectionStart","selectionEnd","potentialNewInputVal","slice","potentialNewNumber","test","preventDefault","split","includes","onKeydown","_x","_onKeydown","apply","_asyncToGenerator","_regenerator","m","_callee","w","_context","n","key","ctrlKey","a","stopPropagation","el","currentTarget","releasePointerCapture","pointerId","setPointerCapture","actualText","trimDecimalZeros","onFocus","onBlur","_VTextField$filterPro","filterProps","_","textFieldProps","_objectWithoutProperties","_excluded","incrementControlNode","_createVNode","disabled","flat","height","size","icon","default","decrementControlNode","decrement","controlNode","_createElementVNode","dividerNode","appendInnerControl","reverse","_Fragment","hasAppendInner","prependInnerControl","hasPrependInner","_mergeProps","onUpdateModelValue","$event","onUpdateFocused","style","_slots$appendInner","_len","args","Array","_key","call","concat","_slots$prependInner","_len2","_key2"],"sources":["../../../src/components/VNumberInput/VNumberInput.tsx"],"sourcesContent":["// Styles\nimport './VNumberInput.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VDivider } from '@/components/VDivider'\nimport { makeVTextFieldProps, VTextField } from '@/components/VTextField/VTextField'\n\n// Composables\nimport { useHold } from './hold'\nimport { useForm } from '@/composables/form'\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, onMounted, ref, shallowRef, toRef, watch, watchEffect } from 'vue'\nimport { clamp, extractNumber, genericComponent, omit, propsFactory, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { VTextFieldSlots } from '@/components/VTextField/VTextField'\n\ntype ControlSlot = {\n  props: Record<string, unknown>\n}\n\ntype VNumberInputSlots = Omit<VTextFieldSlots, 'default'> & {\n  increment: ControlSlot\n  decrement: ControlSlot\n}\n\ntype ControlVariant = 'default' | 'stacked' | 'split' | 'hidden'\n\nconst makeVNumberInputProps = propsFactory({\n  controlVariant: {\n    type: String as PropType<ControlVariant>,\n    default: 'default',\n  },\n  inset: Boolean,\n  hideInput: Boolean,\n  modelValue: {\n    type: Number as PropType<number | null>,\n    default: null,\n  },\n  min: {\n    type: Number,\n    default: Number.MIN_SAFE_INTEGER,\n  },\n  max: {\n    type: Number,\n    default: Number.MAX_SAFE_INTEGER,\n  },\n  step: {\n    type: Number,\n    default: 1,\n  },\n  precision: {\n    type: Number as PropType<number | null>,\n    default: 0,\n  },\n\n  ...omit(makeVTextFieldProps(), ['modelValue', 'validationValue']),\n}, 'VNumberInput')\n\nexport const VNumberInput = genericComponent<VNumberInputSlots>()({\n  name: 'VNumberInput',\n\n  props: {\n    ...makeVNumberInputProps(),\n  },\n\n  emits: {\n    'update:focused': (val: boolean) => true,\n    'update:modelValue': (val: number) => true,\n  },\n\n  setup (props, { slots }) {\n    const vTextFieldRef = ref<VTextField>()\n\n    const { holdStart, holdStop } = useHold({ toggleUpDown })\n    const form = useForm(props)\n    const controlsDisabled = computed(() => (\n      form.isDisabled.value || form.isReadonly.value\n    ))\n\n    const isFocused = shallowRef(props.focused)\n\n    function correctPrecision (val: number, precision = props.precision) {\n      const fixed = precision == null\n        ? String(val)\n        : val.toFixed(precision)\n      return isFocused.value\n        ? Number(fixed).toString() // trim zeros\n        : fixed\n    }\n\n    const model = useProxiedModel(props, 'modelValue', null,\n      val => val ?? null,\n      val => val == null\n        ? val ?? null\n        : clamp(Number(val), props.min, props.max)\n    )\n\n    const _inputText = shallowRef<string | null>(null)\n    watchEffect(() => {\n      if (isFocused.value && !controlsDisabled.value) {\n        // ignore external changes\n      } else if (model.value == null) {\n        _inputText.value = null\n      } else if (!isNaN(model.value)) {\n        _inputText.value = correctPrecision(model.value)\n      }\n    })\n    const inputText = computed<string | null>({\n      get: () => _inputText.value,\n      set (val) {\n        if (val === null || val === '') {\n          model.value = null\n          _inputText.value = null\n        } else if (!isNaN(Number(val)) && Number(val) <= props.max && Number(val) >= props.min) {\n          model.value = Number(val)\n          _inputText.value = val\n        }\n      },\n    })\n\n    const canIncrease = computed(() => {\n      if (controlsDisabled.value) return false\n      return (model.value ?? 0) as number + props.step <= props.max\n    })\n    const canDecrease = computed(() => {\n      if (controlsDisabled.value) return false\n      return (model.value ?? 0) as number - props.step >= props.min\n    })\n\n    const controlVariant = computed(() => {\n      return props.hideInput ? 'stacked' : props.controlVariant\n    })\n\n    const incrementIcon = toRef(() => controlVariant.value === 'split' ? '$plus' : '$collapse')\n    const decrementIcon = toRef(() => controlVariant.value === 'split' ? '$minus' : '$expand')\n    const controlNodeSize = toRef(() => controlVariant.value === 'split' ? 'default' : 'small')\n    const controlNodeDefaultHeight = toRef(() => controlVariant.value === 'stacked' ? 'auto' : '100%')\n\n    const incrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onUpControlMousedown,\n        onPointercancel: onControlMouseup,\n      },\n    }\n    const decrementSlotProps = {\n      props: {\n        onClick: onControlClick,\n        onPointerup: onControlMouseup,\n        onPointerdown: onDownControlMousedown,\n        onPointercancel: onControlMouseup,\n      },\n    }\n\n    watch(() => props.precision, () => formatInputValue())\n\n    onMounted(() => {\n      clampModel()\n    })\n\n    function inferPrecision (value: number | null) {\n      if (value == null) return 0\n      const str = value.toString()\n      const idx = str.indexOf('.')\n      return ~idx ? str.length - idx : 0\n    }\n\n    function toggleUpDown (increment = true) {\n      if (controlsDisabled.value) return\n      if (model.value == null) {\n        inputText.value = correctPrecision(clamp(0, props.min, props.max))\n        return\n      }\n\n      let inferredPrecision = Math.max(inferPrecision(model.value), inferPrecision(props.step))\n      if (props.precision != null) inferredPrecision = Math.max(inferredPrecision, props.precision)\n      if (increment) {\n        if (canIncrease.value) inputText.value = correctPrecision(model.value + props.step, inferredPrecision)\n      } else {\n        if (canDecrease.value) inputText.value = correctPrecision(model.value - props.step, inferredPrecision)\n      }\n    }\n\n    function onBeforeinput (e: InputEvent) {\n      if (!e.data) return\n      const inputElement = e.target as HTMLInputElement\n      const { value: existingTxt, selectionStart, selectionEnd } = inputElement ?? {}\n\n      const potentialNewInputVal =\n        existingTxt\n          ? existingTxt.slice(0, selectionStart as number | undefined) + e.data + existingTxt.slice(selectionEnd as number | undefined)\n          : e.data\n\n      const potentialNewNumber = extractNumber(potentialNewInputVal, props.precision)\n\n      // Only numbers, \"-\", \".\" are allowed\n      // AND \"-\", \".\" are allowed only once\n      // AND \"-\" is only allowed at the start\n      if (!/^-?(\\d+(\\.\\d*)?|(\\.\\d+)|\\d*|\\.)$/.test(potentialNewInputVal)) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n      }\n\n      if (props.precision == null) return\n\n      // Ignore decimal digits above precision limit\n      if (potentialNewInputVal.split('.')[1]?.length > props.precision) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n      }\n      // Ignore decimal separator when precision = 0\n      if (props.precision === 0 && potentialNewInputVal.includes('.')) {\n        e.preventDefault()\n        inputElement!.value = potentialNewNumber\n      }\n    }\n\n    async function onKeydown (e: KeyboardEvent) {\n      if (\n        ['Enter', 'ArrowLeft', 'ArrowRight', 'Backspace', 'Delete', 'Tab'].includes(e.key) ||\n        e.ctrlKey\n      ) return\n\n      if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n        e.preventDefault()\n        clampModel()\n        // _model is controlled, so need to wait until props['modelValue'] is updated\n        await nextTick()\n        if (e.key === 'ArrowDown') {\n          toggleUpDown(false)\n        } else {\n          toggleUpDown()\n        }\n      }\n    }\n\n    function onControlClick (e: MouseEvent) {\n      e.stopPropagation()\n    }\n\n    function onControlMouseup (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.releasePointerCapture(e.pointerId)\n      e.preventDefault()\n      holdStop()\n    }\n\n    function onUpControlMousedown (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.setPointerCapture(e.pointerId)\n      e.preventDefault()\n      e.stopPropagation()\n      holdStart('up')\n    }\n\n    function onDownControlMousedown (e: PointerEvent) {\n      const el = e.currentTarget as HTMLElement\n      el?.setPointerCapture(e.pointerId)\n      e.preventDefault()\n      e.stopPropagation()\n      holdStart('down')\n    }\n\n    function clampModel () {\n      if (controlsDisabled.value) return\n      if (!vTextFieldRef.value) return\n      const actualText = vTextFieldRef.value.value\n      if (actualText && !isNaN(Number(actualText))) {\n        inputText.value = correctPrecision(clamp(Number(actualText), props.min, props.max))\n      } else {\n        inputText.value = null\n      }\n    }\n\n    function formatInputValue () {\n      if (controlsDisabled.value) return\n      if (model.value === null || isNaN(model.value)) {\n        inputText.value = null\n        return\n      }\n      inputText.value = props.precision == null\n        ? String(model.value)\n        : model.value.toFixed(props.precision)\n    }\n\n    function trimDecimalZeros () {\n      if (controlsDisabled.value) return\n      if (model.value === null || isNaN(model.value)) {\n        inputText.value = null\n        return\n      }\n      inputText.value = model.value.toString()\n    }\n\n    function onFocus () {\n      trimDecimalZeros()\n    }\n\n    function onBlur () {\n      clampModel()\n    }\n\n    useRender(() => {\n      const { modelValue: _, ...textFieldProps } = VTextField.filterProps(props)\n\n      function incrementControlNode () {\n        return !slots.increment ? (\n          <VBtn\n            aria-hidden=\"true\"\n            data-testid=\"increment\"\n            disabled={ !canIncrease.value }\n            flat\n            height={ controlNodeDefaultHeight.value }\n            icon={ incrementIcon.value }\n            key=\"increment-btn\"\n            onClick={ onControlClick }\n            onPointerdown={ onUpControlMousedown }\n            onPointerup={ onControlMouseup }\n            onPointercancel={ onControlMouseup }\n            size={ controlNodeSize.value }\n            tabindex=\"-1\"\n          />\n        ) : (\n          <VDefaultsProvider\n            key=\"increment-defaults\"\n            defaults={{\n              VBtn: {\n                disabled: !canIncrease.value,\n                flat: true,\n                height: controlNodeDefaultHeight.value,\n                size: controlNodeSize.value,\n                icon: incrementIcon.value,\n              },\n            }}\n          >\n            { slots.increment(incrementSlotProps) }\n          </VDefaultsProvider>\n        )\n      }\n\n      function decrementControlNode () {\n        return !slots.decrement ? (\n          <VBtn\n            aria-hidden=\"true\"\n            data-testid=\"decrement\"\n            disabled={ !canDecrease.value }\n            flat\n            height={ controlNodeDefaultHeight.value }\n            icon={ decrementIcon.value }\n            key=\"decrement-btn\"\n            onClick={ onControlClick }\n            onPointerdown={ onDownControlMousedown }\n            onPointerup={ onControlMouseup }\n            onPointercancel={ onControlMouseup }\n            size={ controlNodeSize.value }\n            tabindex=\"-1\"\n          />\n        ) : (\n          <VDefaultsProvider\n            key=\"decrement-defaults\"\n            defaults={{\n              VBtn: {\n                disabled: !canDecrease.value,\n                flat: true,\n                height: controlNodeDefaultHeight.value,\n                size: controlNodeSize.value,\n                icon: decrementIcon.value,\n              },\n            }}\n          >\n            { slots.decrement(decrementSlotProps) }\n          </VDefaultsProvider>\n        )\n      }\n\n      function controlNode () {\n        return (\n          <div class=\"v-number-input__control\">\n            { decrementControlNode() }\n\n            <VDivider\n              vertical={ controlVariant.value !== 'stacked' }\n            />\n\n            { incrementControlNode() }\n          </div>\n        )\n      }\n\n      function dividerNode () {\n        return !props.hideInput && !props.inset ? <VDivider vertical /> : undefined\n      }\n\n      const appendInnerControl =\n        controlVariant.value === 'split'\n          ? (\n            <div class=\"v-number-input__control\">\n              <VDivider vertical />\n\n              { incrementControlNode() }\n            </div>\n          ) : (props.reverse || controlVariant.value === 'hidden'\n            ? undefined\n            : <>{ dividerNode() }{ controlNode() }</>)\n\n      const hasAppendInner = slots['append-inner'] || appendInnerControl\n\n      const prependInnerControl =\n        controlVariant.value === 'split'\n          ? (\n            <div class=\"v-number-input__control\">\n              { decrementControlNode() }\n\n              <VDivider vertical />\n            </div>\n          ) : (props.reverse && controlVariant.value !== 'hidden'\n            ? <>{ controlNode() }{ dividerNode() }</>\n            : undefined)\n\n      const hasPrependInner = slots['prepend-inner'] || prependInnerControl\n\n      return (\n        <VTextField\n          ref={ vTextFieldRef }\n          { ...textFieldProps }\n          v-model={ inputText.value }\n          v-model:focused={ isFocused.value }\n          validationValue={ model.value }\n          onBeforeinput={ onBeforeinput }\n          onFocus={ onFocus }\n          onBlur={ onBlur }\n          onKeydown={ onKeydown }\n          class={[\n            'v-number-input',\n            {\n              'v-number-input--default': controlVariant.value === 'default',\n              'v-number-input--hide-input': props.hideInput,\n              'v-number-input--inset': props.inset,\n              'v-number-input--reverse': props.reverse,\n              'v-number-input--split': controlVariant.value === 'split',\n              'v-number-input--stacked': controlVariant.value === 'stacked',\n            },\n            props.class,\n          ]}\n          style={ props.style }\n          inputmode=\"decimal\"\n        >\n          {{\n            ...slots,\n            'append-inner': hasAppendInner ? (...args) => (\n              <>\n                { slots['append-inner']?.(...args) }\n                { appendInnerControl }\n              </>\n            ) : undefined,\n            'prepend-inner': hasPrependInner ? (...args) => (\n              <>\n                { prependInnerControl }\n                { slots['prepend-inner']?.(...args) }\n              </>\n            ) : undefined,\n          }}\n        </VTextField>\n      )\n    })\n\n    return forwardRefs({}, vTextFieldRef)\n  },\n})\n\nexport type VNumberInput = InstanceType<typeof VNumberInput>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}