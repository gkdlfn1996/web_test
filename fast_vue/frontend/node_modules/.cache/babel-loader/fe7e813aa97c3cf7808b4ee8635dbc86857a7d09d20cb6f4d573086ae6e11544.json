{"ast":null,"code":"import _regenerator from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/regenerator.js\";\nimport _asyncToGenerator from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/idea/td_test/LAZYPIC/PONO/web_test/fast_vue/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\";\n// Styles\nimport \"./VColorPickerPreview.css\";\n\n// Components\nimport { VBtn } from \"../VBtn/index.js\";\nimport { VSlider } from \"../VSlider/index.js\"; // Composables\nimport { makeComponentProps } from \"../../composables/component.js\"; // Utilities\nimport { onUnmounted } from 'vue';\nimport { nullColor } from \"./util/index.js\";\nimport { defineComponent, HSVtoCSS, parseColor, propsFactory, RGBtoHSV, SUPPORTS_EYE_DROPPER, useRender } from \"../../util/index.js\"; // Types\nexport var makeVColorPickerPreviewProps = propsFactory(_objectSpread({\n  color: {\n    type: Object\n  },\n  disabled: Boolean,\n  hideAlpha: Boolean\n}, makeComponentProps()), 'VColorPickerPreview');\nexport var VColorPickerPreview = defineComponent({\n  name: 'VColorPickerPreview',\n  props: makeVColorPickerPreviewProps(),\n  emits: {\n    'update:color': function updateColor(color) {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var abortController = new AbortController();\n    onUnmounted(function () {\n      return abortController.abort();\n    });\n    function openEyeDropper() {\n      return _openEyeDropper.apply(this, arguments);\n    }\n    function _openEyeDropper() {\n      _openEyeDropper = _asyncToGenerator(/*#__PURE__*/_regenerator().m(function _callee() {\n        var eyeDropper, _props$color6, result, colorHexValue, _t;\n        return _regenerator().w(function (_context) {\n          while (1) switch (_context.n) {\n            case 0:\n              if (!(!SUPPORTS_EYE_DROPPER || props.disabled)) {\n                _context.n = 1;\n                break;\n              }\n              return _context.a(2);\n            case 1:\n              eyeDropper = new window.EyeDropper();\n              _context.p = 2;\n              _context.n = 3;\n              return eyeDropper.open({\n                signal: abortController.signal\n              });\n            case 3:\n              result = _context.v;\n              colorHexValue = RGBtoHSV(parseColor(result.sRGBHex));\n              emit('update:color', _objectSpread(_objectSpread({}, (_props$color6 = props.color) !== null && _props$color6 !== void 0 ? _props$color6 : nullColor), colorHexValue));\n              _context.n = 5;\n              break;\n            case 4:\n              _context.p = 4;\n              _t = _context.v;\n            case 5:\n              return _context.a(2);\n          }\n        }, _callee, null, [[2, 4]]);\n      }));\n      return _openEyeDropper.apply(this, arguments);\n    }\n    useRender(function () {\n      var _props$color, _props$color2, _props$color$a, _props$color4;\n      return _createElementVNode(\"div\", {\n        \"class\": _normalizeClass(['v-color-picker-preview', {\n          'v-color-picker-preview--hide-alpha': props.hideAlpha\n        }, props[\"class\"]]),\n        \"style\": _normalizeStyle(props.style)\n      }, [SUPPORTS_EYE_DROPPER && _createElementVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__eye-dropper\",\n        \"key\": \"eyeDropper\"\n      }, [_createVNode(VBtn, {\n        \"density\": \"comfortable\",\n        \"disabled\": props.disabled,\n        \"icon\": \"$eyeDropper\",\n        \"variant\": \"plain\",\n        \"onClick\": openEyeDropper\n      }, null)]), _createElementVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__dot\"\n      }, [_createElementVNode(\"div\", {\n        \"style\": {\n          background: HSVtoCSS((_props$color = props.color) !== null && _props$color !== void 0 ? _props$color : nullColor)\n        }\n      }, null)]), _createElementVNode(\"div\", {\n        \"class\": \"v-color-picker-preview__sliders\"\n      }, [_createVNode(VSlider, {\n        \"class\": \"v-color-picker-preview__track v-color-picker-preview__hue\",\n        \"modelValue\": (_props$color2 = props.color) === null || _props$color2 === void 0 ? void 0 : _props$color2.h,\n        \"onUpdate:modelValue\": function onUpdateModelValue(h) {\n          var _props$color3;\n          return emit('update:color', _objectSpread(_objectSpread({}, (_props$color3 = props.color) !== null && _props$color3 !== void 0 ? _props$color3 : nullColor), {}, {\n            h: h\n          }));\n        },\n        \"step\": 0,\n        \"min\": 0,\n        \"max\": 360,\n        \"disabled\": props.disabled,\n        \"thumbSize\": 14,\n        \"trackSize\": 8,\n        \"trackFillColor\": \"white\",\n        \"hideDetails\": true\n      }, null), !props.hideAlpha && _createVNode(VSlider, {\n        \"class\": \"v-color-picker-preview__track v-color-picker-preview__alpha\",\n        \"modelValue\": (_props$color$a = (_props$color4 = props.color) === null || _props$color4 === void 0 ? void 0 : _props$color4.a) !== null && _props$color$a !== void 0 ? _props$color$a : 1,\n        \"onUpdate:modelValue\": function onUpdateModelValue(a) {\n          var _props$color5;\n          return emit('update:color', _objectSpread(_objectSpread({}, (_props$color5 = props.color) !== null && _props$color5 !== void 0 ? _props$color5 : nullColor), {}, {\n            a: a\n          }));\n        },\n        \"step\": 1 / 256,\n        \"min\": 0,\n        \"max\": 1,\n        \"disabled\": props.disabled,\n        \"thumbSize\": 14,\n        \"trackSize\": 8,\n        \"trackFillColor\": \"white\",\n        \"hideDetails\": true\n      }, null)])]);\n    });\n    return {};\n  }\n});","map":{"version":3,"names":["VBtn","VSlider","makeComponentProps","onUnmounted","nullColor","defineComponent","HSVtoCSS","parseColor","propsFactory","RGBtoHSV","SUPPORTS_EYE_DROPPER","useRender","makeVColorPickerPreviewProps","_objectSpread","color","type","Object","disabled","Boolean","hideAlpha","VColorPickerPreview","name","props","emits","updateColor","setup","_ref","emit","abortController","AbortController","abort","openEyeDropper","_openEyeDropper","apply","arguments","_asyncToGenerator","_regenerator","m","_callee","eyeDropper","_props$color6","result","colorHexValue","_t","w","_context","n","a","window","EyeDropper","p","open","signal","v","sRGBHex","_props$color","_props$color2","_props$color$a","_props$color4","_createElementVNode","_normalizeClass","_normalizeStyle","style","_createVNode","background","h","onUpdateModelValue","_props$color3","_props$color5"],"sources":["../../../src/components/VColorPicker/VColorPickerPreview.tsx"],"sourcesContent":["// Styles\nimport './VColorPickerPreview.sass'\n\n// Components\nimport { VBtn } from '@/components/VBtn'\nimport { VSlider } from '@/components/VSlider'\n\n// Composables\nimport { makeComponentProps } from '@/composables/component'\n\n// Utilities\nimport { onUnmounted } from 'vue'\nimport { nullColor } from './util'\nimport {\n  defineComponent,\n  HSVtoCSS,\n  parseColor,\n  propsFactory,\n  RGBtoHSV,\n  SUPPORTS_EYE_DROPPER,\n  useRender,\n} from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { HSV } from '@/util'\n\nexport const makeVColorPickerPreviewProps = propsFactory({\n  color: {\n    type: Object as PropType<HSV | null>,\n  },\n  disabled: Boolean,\n  hideAlpha: Boolean,\n\n  ...makeComponentProps(),\n}, 'VColorPickerPreview')\n\nexport const VColorPickerPreview = defineComponent({\n  name: 'VColorPickerPreview',\n\n  props: makeVColorPickerPreviewProps(),\n\n  emits: {\n    'update:color': (color: HSV) => true,\n  },\n\n  setup (props, { emit }) {\n    const abortController = new AbortController()\n\n    onUnmounted(() => abortController.abort())\n\n    async function openEyeDropper () {\n      if (!SUPPORTS_EYE_DROPPER || props.disabled) return\n\n      const eyeDropper = new window.EyeDropper()\n      try {\n        const result = await eyeDropper.open({ signal: abortController.signal })\n        const colorHexValue = RGBtoHSV(parseColor(result.sRGBHex))\n        emit('update:color', { ...(props.color ?? nullColor), ...colorHexValue })\n      } catch (e) {}\n    }\n\n    useRender(() => (\n      <div\n        class={[\n          'v-color-picker-preview',\n          {\n            'v-color-picker-preview--hide-alpha': props.hideAlpha,\n          },\n          props.class,\n        ]}\n        style={ props.style }\n      >\n        { SUPPORTS_EYE_DROPPER && (\n          <div class=\"v-color-picker-preview__eye-dropper\" key=\"eyeDropper\">\n            <VBtn density=\"comfortable\" disabled={ props.disabled } icon=\"$eyeDropper\" variant=\"plain\" onClick={ openEyeDropper } />\n          </div>\n        )}\n\n        <div class=\"v-color-picker-preview__dot\">\n          <div style={{ background: HSVtoCSS(props.color ?? nullColor) }} />\n        </div>\n\n        <div class=\"v-color-picker-preview__sliders\">\n          <VSlider\n            class=\"v-color-picker-preview__track v-color-picker-preview__hue\"\n            modelValue={ props.color?.h }\n            onUpdate:modelValue={ h => emit('update:color', { ...(props.color ?? nullColor), h }) }\n            step={ 0 }\n            min={ 0 }\n            max={ 360 }\n            disabled={ props.disabled }\n            thumbSize={ 14 }\n            trackSize={ 8 }\n            trackFillColor=\"white\"\n            hideDetails\n          />\n\n          { !props.hideAlpha && (\n            <VSlider\n              class=\"v-color-picker-preview__track v-color-picker-preview__alpha\"\n              modelValue={ props.color?.a ?? 1 }\n              onUpdate:modelValue={ a => emit('update:color', { ...(props.color ?? nullColor), a }) }\n              step={ 1 / 256 }\n              min={ 0 }\n              max={ 1 }\n              disabled={ props.disabled }\n              thumbSize={ 14 }\n              trackSize={ 8 }\n              trackFillColor=\"white\"\n              hideDetails\n            />\n          )}\n        </div>\n      </div>\n    ))\n\n    return {}\n  },\n})\n\nexport type VColorPickerPreview = InstanceType<typeof VColorPickerPreview>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}